[{"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/index.js":"1","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/App.js":"2","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/reportWebVitals.js":"3","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Nav/Navbar.js":"4","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Auth/Auth.js":"5","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Joke/Joke.js":"6","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/shared/Spinner.js":"7","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Home/Home.js":"8","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/context/AuthContext.js":"9","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useFetchUsersAPI.js":"10","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useAuth.js":"11","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useLocalStorage.js":"12"},{"size":468,"mtime":1608580907320,"results":"13","hashOfConfig":"14"},{"size":1196,"mtime":1608580907318,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":1608540450273,"results":"16","hashOfConfig":"14"},{"size":1722,"mtime":1608581202088,"results":"17","hashOfConfig":"14"},{"size":2362,"mtime":1608580907318,"results":"18","hashOfConfig":"14"},{"size":1092,"mtime":1608584550295,"results":"19","hashOfConfig":"14"},{"size":151,"mtime":1608540450273,"results":"20","hashOfConfig":"14"},{"size":331,"mtime":1608581869855,"results":"21","hashOfConfig":"14"},{"size":707,"mtime":1608580907319,"results":"22","hashOfConfig":"14"},{"size":2175,"mtime":1608580907320,"results":"23","hashOfConfig":"14"},{"size":846,"mtime":1608580907319,"results":"24","hashOfConfig":"14"},{"size":533,"mtime":1608580907320,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"kg34j1",{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"30"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"30"},"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/index.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/App.js",[],["54","55"],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/reportWebVitals.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Nav/Navbar.js",["56"],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Auth/Auth.js",["57","58","59","60","61","62","63","64","65","66","67","68","69"],"import React, { useEffect, useContext } from \"react\";\n\nimport useFetchUsersAPI from \"../hooks/useFetchUsersAPI\";\nimport useChangeInputConfig from \"../hooks/useAuth\";\n\nimport { AuthContext } from \"../context/AuthContext\";\n\nimport \"./Auth.css\";\n\nconst Auth = (props) => {\n  const {\n    state: { user },\n  } = useContext(AuthContext);\n\n  useEffect(() => {\n    if (user) {\n      props.history.push(\"/home\");\n    }\n  }, [user]);\n\n  let isLogin = props.match.path === \"/sign-in\";\n  let buttonTitle = isLogin ? \"Login\" : \"Register\";\n  let apiURL = isLogin ? \"/users/sign-in\" : \"/users/sign-up\";\n\n  const [\n    { isLoading, response, error },\n    handleAPICallButtonSubmit,\n  ] = useFetchUsersAPI(apiURL);\n\n  const [\n    email,\n    handleEmailChange,\n    isEmailError,\n    emailErrorMessage,\n    cantSubmitEmail,\n    clearEmailInput,\n  ] = useChangeInputConfig(\"email\");\n\n  const [\n    password,\n    handlePasswordChange,\n    isPasswordError,\n    passwordErrorMessage,\n    cantSubmitPassword,\n    clearPasswordInput,\n  ] = useChangeInputConfig(\"password\");\n\n  const [\n    username,\n    handleUsernameChange,\n    isUsernameError,\n    usernameErrorMessage,\n    cantSubmitUsername,\n    clearUsernameInput,\n  ] = useChangeInputConfig(\"username\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const user = isLogin ? { email, password } : { email, username, password };\n\n    handleAPICallButtonSubmit({\n      method: \"post\",\n      data: {\n        ...user,\n      },\n    });\n\n    clearEmailInput();\n    clearPasswordInput();\n    clearUsernameInput();\n  };\n\n  return (\n    <form id=\"auth-form\" onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        label=\"Email\"\n        name=\"email\"\n        value={email}\n        placeholder=\"Email\"\n        onChange={handleEmailChange}\n      />{\" \"}\n      <br />\n      {!isLogin && (\n        <input\n          type=\"text\"\n          label=\"Username\"\n          name=\"username\"\n          placeholder=\"Username\"\n          value={username}\n          onChange={handleUsernameChange}\n        />\n      )}{\" \"}\n      <br />\n      <input\n        type=\"password\"\n        label=\"Password\"\n        name=\"password\"\n        placeholder=\"Password\"\n        value={password}\n        onChange={handlePasswordChange}\n      />{\" \"}\n      <br />\n      <button type=\"submit\">{buttonTitle}</button>\n    </form>\n  );\n};\n\nexport default Auth;\n","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Joke/Joke.js",["70"],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/shared/Spinner.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Home/Home.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/context/AuthContext.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useFetchUsersAPI.js",["71","72"],"import { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\n\nimport useLocalStorage from \"./useLocalStorage\";\n\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst useFetchUsersAPI = (url) => {\n  const baseURL =\n    process.env.NODE_ENV === \"development\"\n      ? \"http://localhost:3001/api\"\n      : \"DEPLOYED ADDRESS example: https:overlord.com/api\";\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [response, setResponse] = useState(null);\n\n  const [error, setError] = useState(null);\n\n  const [options, setOptions] = useState({});\n  const [isMessageOpen, setIsMessageOpen] = useState(true);\n\n  const [jwtTokenValue, setJwtTokenValue, jwtDecodeFunc] = useLocalStorage(\n    \"jwtToken\"\n  );\n\n  const { dispatch } = useContext(AuthContext);\n\n  const handleMessageOpen = () => {\n    setIsMessageOpen(true);\n  };\n\n  const handleMessageClose = () => {\n    setError(null);\n    setResponse(null);\n    setIsMessageOpen(false);\n  };\n\n  const handleAPICallButtonSubmit = (options = {}) => {\n    setOptions(options);\n    setIsLoading(true);\n  };\n\n  const handleAPIFetchCall = async () => {\n    const requestOptionObj = {\n      ...options,\n      ...{\n        headers: {\n          authorization: null,\n        },\n      },\n    };\n\n    try {\n      handleMessageOpen();\n      let response = await axios(baseURL + url, requestOptionObj);\n\n      console.log(response);\n\n      if (response.data.jwtToken) {\n        setJwtTokenValue(response.data.jwtToken);\n        let decoded = jwtDecodeFunc(response.data.jwtToken);\n        dispatch({\n          type: \"LOGIN\",\n          user: decoded,\n        });\n      }\n\n      setResponse(response.data.message);\n      setIsLoading(false);\n    } catch (e) {\n      console.log(e.response);\n\n      setError(e.response.data.message);\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!isLoading) {\n      return;\n    }\n\n    handleAPIFetchCall();\n  }, [isLoading, url, options, baseURL]);\n\n  return [\n    { isLoading, response, error, setError, setResponse },\n    handleAPICallButtonSubmit,\n    isMessageOpen,\n    handleMessageOpen,\n    handleMessageClose,\n  ];\n};\n\nexport default useFetchUsersAPI;\n","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useAuth.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useLocalStorage.js",["73"],"import jwtDecode from \"jwt-decode\";\nimport { useState, useEffect } from \"react\";\n\nconst useLocalStorage = (key, initialValue = \"\") => {\n  const [jwtTokenValue, setJwtTokenValue] = useState(() => {\n    return localStorage.getItem(key) || initialValue;\n  });\n\n  useEffect(() => {\n    localStorage.setItem(key, jwtTokenValue);\n  }, [jwtTokenValue, setJwtTokenValue]);\n\n  const jwtDecodeFunc = (token) => {\n    return jwtDecode(token);\n  };\n\n  return [jwtTokenValue, setJwtTokenValue, jwtDecodeFunc];\n};\n\nexport default useLocalStorage;\n",{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":40,"column":6,"nodeType":"80","endLine":40,"endColumn":8,"suggestions":"81"},{"ruleId":"78","severity":1,"message":"82","line":19,"column":6,"nodeType":"80","endLine":19,"endColumn":12,"suggestions":"83"},{"ruleId":"84","severity":1,"message":"85","line":26,"column":7,"nodeType":"86","messageId":"87","endLine":26,"endColumn":16},{"ruleId":"84","severity":1,"message":"88","line":26,"column":18,"nodeType":"86","messageId":"87","endLine":26,"endColumn":26},{"ruleId":"84","severity":1,"message":"89","line":26,"column":28,"nodeType":"86","messageId":"87","endLine":26,"endColumn":33},{"ruleId":"84","severity":1,"message":"90","line":33,"column":5,"nodeType":"86","messageId":"87","endLine":33,"endColumn":17},{"ruleId":"84","severity":1,"message":"91","line":34,"column":5,"nodeType":"86","messageId":"87","endLine":34,"endColumn":22},{"ruleId":"84","severity":1,"message":"92","line":35,"column":5,"nodeType":"86","messageId":"87","endLine":35,"endColumn":20},{"ruleId":"84","severity":1,"message":"93","line":42,"column":5,"nodeType":"86","messageId":"87","endLine":42,"endColumn":20},{"ruleId":"84","severity":1,"message":"94","line":43,"column":5,"nodeType":"86","messageId":"87","endLine":43,"endColumn":25},{"ruleId":"84","severity":1,"message":"95","line":44,"column":5,"nodeType":"86","messageId":"87","endLine":44,"endColumn":23},{"ruleId":"84","severity":1,"message":"96","line":51,"column":5,"nodeType":"86","messageId":"87","endLine":51,"endColumn":20},{"ruleId":"84","severity":1,"message":"97","line":52,"column":5,"nodeType":"86","messageId":"87","endLine":52,"endColumn":25},{"ruleId":"84","severity":1,"message":"98","line":53,"column":5,"nodeType":"86","messageId":"87","endLine":53,"endColumn":23},{"ruleId":"99","severity":1,"message":"100","line":22,"column":9,"nodeType":"101","messageId":"102","endLine":22,"endColumn":36},{"ruleId":"84","severity":1,"message":"103","line":22,"column":10,"nodeType":"86","messageId":"87","endLine":22,"endColumn":23},{"ruleId":"78","severity":1,"message":"104","line":84,"column":6,"nodeType":"80","endLine":84,"endColumn":40,"suggestions":"105"},{"ruleId":"78","severity":1,"message":"106","line":11,"column":6,"nodeType":"80","endLine":11,"endColumn":39,"suggestions":"107"},"no-native-reassign",["108"],"no-negated-in-lhs",["109"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'jwtDecodeFunc'. Either include them or remove the dependency array.","ArrayExpression",["110"],"React Hook useEffect has a missing dependency: 'props.history'. Either include it or remove the dependency array.",["111"],"no-unused-vars","'isLoading' is assigned a value but never used.","Identifier","unusedVar","'response' is assigned a value but never used.","'error' is assigned a value but never used.","'isEmailError' is assigned a value but never used.","'emailErrorMessage' is assigned a value but never used.","'cantSubmitEmail' is assigned a value but never used.","'isPasswordError' is assigned a value but never used.","'passwordErrorMessage' is assigned a value but never used.","'cantSubmitPassword' is assigned a value but never used.","'isUsernameError' is assigned a value but never used.","'usernameErrorMessage' is assigned a value but never used.","'cantSubmitUsername' is assigned a value but never used.","no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object","'jwtTokenValue' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'handleAPIFetchCall'. Either include it or remove the dependency array.",["112"],"React Hook useEffect has a missing dependency: 'key'. Either include it or remove the dependency array.",["113"],"no-global-assign","no-unsafe-negation",{"desc":"114","fix":"115"},{"desc":"116","fix":"117"},{"desc":"118","fix":"119"},{"desc":"120","fix":"121"},"Update the dependencies array to be: [dispatch, jwtDecodeFunc]",{"range":"122","text":"123"},"Update the dependencies array to be: [props.history, user]",{"range":"124","text":"125"},"Update the dependencies array to be: [isLoading, url, options, baseURL, handleAPIFetchCall]",{"range":"126","text":"127"},"Update the dependencies array to be: [jwtTokenValue, key, setJwtTokenValue]",{"range":"128","text":"129"},[986,988],"[dispatch, jwtDecodeFunc]",[415,421],"[props.history, user]",[1928,1962],"[isLoading, url, options, baseURL, handleAPIFetchCall]",[329,362],"[jwtTokenValue, key, setJwtTokenValue]"]