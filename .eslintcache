[{"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/index.js":"1","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/App.js":"2","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/reportWebVitals.js":"3","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Nav/Navbar.js":"4","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Auth/Auth.js":"5","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Joke/Joke.js":"6","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/shared/Spinner.js":"7","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Home/Home.js":"8","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/context/AuthContext.js":"9","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useFetchUsersAPI.js":"10","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useAuth.js":"11","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useLocalStorage.js":"12"},{"size":468,"mtime":1608580907320,"results":"13","hashOfConfig":"14"},{"size":1196,"mtime":1608580907318,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":1608540450273,"results":"16","hashOfConfig":"14"},{"size":1722,"mtime":1608581202088,"results":"17","hashOfConfig":"14"},{"size":2362,"mtime":1608580907318,"results":"18","hashOfConfig":"14"},{"size":1092,"mtime":1608584550295,"results":"19","hashOfConfig":"14"},{"size":151,"mtime":1608540450273,"results":"20","hashOfConfig":"14"},{"size":331,"mtime":1608581869855,"results":"21","hashOfConfig":"14"},{"size":707,"mtime":1608580907319,"results":"22","hashOfConfig":"14"},{"size":2175,"mtime":1608580907320,"results":"23","hashOfConfig":"14"},{"size":846,"mtime":1608580907319,"results":"24","hashOfConfig":"14"},{"size":533,"mtime":1608580907320,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"kg34j1",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"28"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"28"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"56"},"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/index.js",[],["57","58"],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/App.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/reportWebVitals.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Nav/Navbar.js",["59"],"import React, { useContext, useEffect } from \"react\";\nimport { NavLink as Link } from \"react-router-dom\";\n\nimport useLocalStorage from \"../hooks/useLocalStorage\";\n\nimport { AuthContext } from \"../context/AuthContext\";\n\nimport \"./Navbar.css\";\n\nconst Navbar = () => {\n  const {\n    state: { user },\n    dispatch,\n  } = useContext(AuthContext);\n\n  const [, , jwtDecodeFunc] = useLocalStorage(\"jwtToken\");\n\n  const isUserLoggedIn = user ? true : false;\n\n  const navLinkPathOne = isUserLoggedIn ? \"/home\" : \"/sign-in\";\n  const navLinkDisplayOne = isUserLoggedIn ? `${user.email}` : \"LOGIN\";\n\n  const navLinkPathTwo = isUserLoggedIn ? \"/logout\" : \"/sign-up\";\n  const navLinkDisplayTwo = isUserLoggedIn ? `LOGOUT` : \"REGISTER\";\n\n  useEffect(() => {\n    let token = localStorage.getItem(\"jwtToken\");\n\n    if (!token) {\n      return;\n    }\n\n    if (token.length > 0) {\n      let decoded = jwtDecodeFunc(token);\n      dispatch({\n        type: \"LOGIN\",\n        user: decoded,\n      });\n    }\n  }, []);\n\n  const logout = () => {\n    dispatch({\n      type: \"LOGOUT\",\n    });\n\n    localStorage.removeItem(\"jwtToken\");\n  };\n\n  const logoutFunc = isUserLoggedIn ? logout : null;\n\n  return (\n    <div id=\"nav-container\">\n      <ul className=\"navbar\">\n        <li className=\"nav-item\">\n          <Link to=\"/joke\">MAKE ME LAUGH</Link>\n        </li>\n        <li className=\"nav-item\" style={{ alignSelf: \"flex-end\" }}>\n          <Link exact to={navLinkPathOne}>\n            {navLinkDisplayOne}\n          </Link>\n        </li>\n        <li className=\"nav-item\">\n          <Link exact to={navLinkPathTwo} onClick={logoutFunc}>\n            {navLinkDisplayTwo}\n          </Link>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Navbar;\n","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Auth/Auth.js",["60","61","62","63","64","65","66","67","68","69","70","71","72"],"import React, { useEffect, useContext } from \"react\";\n\nimport useFetchUsersAPI from \"../hooks/useFetchUsersAPI\";\nimport useChangeInputConfig from \"../hooks/useAuth\";\n\nimport { AuthContext } from \"../context/AuthContext\";\n\nimport \"./Auth.css\";\n\nconst Auth = (props) => {\n  const {\n    state: { user },\n  } = useContext(AuthContext);\n\n  useEffect(() => {\n    if (user) {\n      props.history.push(\"/home\");\n    }\n  }, [user]);\n\n  let isLogin = props.match.path === \"/sign-in\";\n  let buttonTitle = isLogin ? \"Login\" : \"Register\";\n  let apiURL = isLogin ? \"/users/sign-in\" : \"/users/sign-up\";\n\n  const [\n    { isLoading, response, error },\n    handleAPICallButtonSubmit,\n  ] = useFetchUsersAPI(apiURL);\n\n  const [\n    email,\n    handleEmailChange,\n    isEmailError,\n    emailErrorMessage,\n    cantSubmitEmail,\n    clearEmailInput,\n  ] = useChangeInputConfig(\"email\");\n\n  const [\n    password,\n    handlePasswordChange,\n    isPasswordError,\n    passwordErrorMessage,\n    cantSubmitPassword,\n    clearPasswordInput,\n  ] = useChangeInputConfig(\"password\");\n\n  const [\n    username,\n    handleUsernameChange,\n    isUsernameError,\n    usernameErrorMessage,\n    cantSubmitUsername,\n    clearUsernameInput,\n  ] = useChangeInputConfig(\"username\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const user = isLogin ? { email, password } : { email, username, password };\n\n    handleAPICallButtonSubmit({\n      method: \"post\",\n      data: {\n        ...user,\n      },\n    });\n\n    clearEmailInput();\n    clearPasswordInput();\n    clearUsernameInput();\n  };\n\n  return (\n    <form id=\"auth-form\" onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        label=\"Email\"\n        name=\"email\"\n        value={email}\n        placeholder=\"Email\"\n        onChange={handleEmailChange}\n      />{\" \"}\n      <br />\n      {!isLogin && (\n        <input\n          type=\"text\"\n          label=\"Username\"\n          name=\"username\"\n          placeholder=\"Username\"\n          value={username}\n          onChange={handleUsernameChange}\n        />\n      )}{\" \"}\n      <br />\n      <input\n        type=\"password\"\n        label=\"Password\"\n        name=\"password\"\n        placeholder=\"Password\"\n        value={password}\n        onChange={handlePasswordChange}\n      />{\" \"}\n      <br />\n      <button type=\"submit\">{buttonTitle}</button>\n    </form>\n  );\n};\n\nexport default Auth;\n","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Joke/Joke.js",["73"],"import React, { useState } from \"react\";\n\nimport \"./Joke.css\";\n\nconst Joke = () => {\n  const [joke, setJoke] = useState(\n    \"Welcome to the joke generator. I'll tell ya some punny jokes.\"\n  );\n\n  const [setup, setSetup] = useState(\"\");\n  const [isTwoParter, setIsTwoParter] = useState(false);\n\n  const fetchJoke = async () => {\n    try {\n      const response = await fetch(\n        `https://sv443.net/jokeapi/v2/joke/Pun?blacklistFlags=nsfw,political,racist,sexist`\n      );\n\n      const data = await response.json();\n\n      if (data.error) {\n        throw \"An error occurred.\";\n      }\n\n      if (data.type === \"twopart\") {\n        setIsTwoParter(true);\n        setSetup(data.setup);\n        setJoke(data.delivery);\n      } else {\n        setIsTwoParter(false);\n        setSetup(\"\");\n        setJoke(data.joke);\n      }\n\n      console.log(data);\n    } catch (e) {}\n  };\n\n  return (\n    <div id=\"joke-container\">\n      {isTwoParter ? setup : \"\"}\n      <p>{joke}</p>\n      <button onClick={fetchJoke}>Get Joke</button>\n      <button>Favorite</button>\n    </div>\n  );\n};\n\nexport default Joke;\n","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/shared/Spinner.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/Home/Home.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/context/AuthContext.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useFetchUsersAPI.js",["74","75"],"import { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\n\nimport useLocalStorage from \"./useLocalStorage\";\n\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst useFetchUsersAPI = (url) => {\n  const baseURL =\n    process.env.NODE_ENV === \"development\"\n      ? \"http://localhost:3001/api\"\n      : \"DEPLOYED ADDRESS example: https:overlord.com/api\";\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [response, setResponse] = useState(null);\n\n  const [error, setError] = useState(null);\n\n  const [options, setOptions] = useState({});\n  const [isMessageOpen, setIsMessageOpen] = useState(true);\n\n  const [jwtTokenValue, setJwtTokenValue, jwtDecodeFunc] = useLocalStorage(\n    \"jwtToken\"\n  );\n\n  const { dispatch } = useContext(AuthContext);\n\n  const handleMessageOpen = () => {\n    setIsMessageOpen(true);\n  };\n\n  const handleMessageClose = () => {\n    setError(null);\n    setResponse(null);\n    setIsMessageOpen(false);\n  };\n\n  const handleAPICallButtonSubmit = (options = {}) => {\n    setOptions(options);\n    setIsLoading(true);\n  };\n\n  const handleAPIFetchCall = async () => {\n    const requestOptionObj = {\n      ...options,\n      ...{\n        headers: {\n          authorization: null,\n        },\n      },\n    };\n\n    try {\n      handleMessageOpen();\n      let response = await axios(baseURL + url, requestOptionObj);\n\n      console.log(response);\n\n      if (response.data.jwtToken) {\n        setJwtTokenValue(response.data.jwtToken);\n        let decoded = jwtDecodeFunc(response.data.jwtToken);\n        dispatch({\n          type: \"LOGIN\",\n          user: decoded,\n        });\n      }\n\n      setResponse(response.data.message);\n      setIsLoading(false);\n    } catch (e) {\n      console.log(e.response);\n\n      setError(e.response.data.message);\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!isLoading) {\n      return;\n    }\n\n    handleAPIFetchCall();\n  }, [isLoading, url, options, baseURL]);\n\n  return [\n    { isLoading, response, error, setError, setResponse },\n    handleAPICallButtonSubmit,\n    isMessageOpen,\n    handleMessageOpen,\n    handleMessageClose,\n  ];\n};\n\nexport default useFetchUsersAPI;\n","/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useAuth.js",[],"/Users/shirohon/Documents/Codeimmersives/Term 2/week-16/joke-react-app/src/components/hooks/useLocalStorage.js",["76"],"import jwtDecode from \"jwt-decode\";\nimport { useState, useEffect } from \"react\";\n\nconst useLocalStorage = (key, initialValue = \"\") => {\n  const [jwtTokenValue, setJwtTokenValue] = useState(() => {\n    return localStorage.getItem(key) || initialValue;\n  });\n\n  useEffect(() => {\n    localStorage.setItem(key, jwtTokenValue);\n  }, [jwtTokenValue, setJwtTokenValue]);\n\n  const jwtDecodeFunc = (token) => {\n    return jwtDecode(token);\n  };\n\n  return [jwtTokenValue, setJwtTokenValue, jwtDecodeFunc];\n};\n\nexport default useLocalStorage;\n",["77","78"],{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":40,"column":6,"nodeType":"85","endLine":40,"endColumn":8,"suggestions":"86"},{"ruleId":"83","severity":1,"message":"87","line":19,"column":6,"nodeType":"85","endLine":19,"endColumn":12,"suggestions":"88"},{"ruleId":"89","severity":1,"message":"90","line":26,"column":7,"nodeType":"91","messageId":"92","endLine":26,"endColumn":16},{"ruleId":"89","severity":1,"message":"93","line":26,"column":18,"nodeType":"91","messageId":"92","endLine":26,"endColumn":26},{"ruleId":"89","severity":1,"message":"94","line":26,"column":28,"nodeType":"91","messageId":"92","endLine":26,"endColumn":33},{"ruleId":"89","severity":1,"message":"95","line":33,"column":5,"nodeType":"91","messageId":"92","endLine":33,"endColumn":17},{"ruleId":"89","severity":1,"message":"96","line":34,"column":5,"nodeType":"91","messageId":"92","endLine":34,"endColumn":22},{"ruleId":"89","severity":1,"message":"97","line":35,"column":5,"nodeType":"91","messageId":"92","endLine":35,"endColumn":20},{"ruleId":"89","severity":1,"message":"98","line":42,"column":5,"nodeType":"91","messageId":"92","endLine":42,"endColumn":20},{"ruleId":"89","severity":1,"message":"99","line":43,"column":5,"nodeType":"91","messageId":"92","endLine":43,"endColumn":25},{"ruleId":"89","severity":1,"message":"100","line":44,"column":5,"nodeType":"91","messageId":"92","endLine":44,"endColumn":23},{"ruleId":"89","severity":1,"message":"101","line":51,"column":5,"nodeType":"91","messageId":"92","endLine":51,"endColumn":20},{"ruleId":"89","severity":1,"message":"102","line":52,"column":5,"nodeType":"91","messageId":"92","endLine":52,"endColumn":25},{"ruleId":"89","severity":1,"message":"103","line":53,"column":5,"nodeType":"91","messageId":"92","endLine":53,"endColumn":23},{"ruleId":"104","severity":1,"message":"105","line":22,"column":9,"nodeType":"106","messageId":"107","endLine":22,"endColumn":36},{"ruleId":"89","severity":1,"message":"108","line":22,"column":10,"nodeType":"91","messageId":"92","endLine":22,"endColumn":23},{"ruleId":"83","severity":1,"message":"109","line":84,"column":6,"nodeType":"85","endLine":84,"endColumn":40,"suggestions":"110"},{"ruleId":"83","severity":1,"message":"111","line":11,"column":6,"nodeType":"85","endLine":11,"endColumn":39,"suggestions":"112"},{"ruleId":"79","replacedBy":"113"},{"ruleId":"81","replacedBy":"114"},"no-native-reassign",["115"],"no-negated-in-lhs",["116"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'jwtDecodeFunc'. Either include them or remove the dependency array.","ArrayExpression",["117"],"React Hook useEffect has a missing dependency: 'props.history'. Either include it or remove the dependency array.",["118"],"no-unused-vars","'isLoading' is assigned a value but never used.","Identifier","unusedVar","'response' is assigned a value but never used.","'error' is assigned a value but never used.","'isEmailError' is assigned a value but never used.","'emailErrorMessage' is assigned a value but never used.","'cantSubmitEmail' is assigned a value but never used.","'isPasswordError' is assigned a value but never used.","'passwordErrorMessage' is assigned a value but never used.","'cantSubmitPassword' is assigned a value but never used.","'isUsernameError' is assigned a value but never used.","'usernameErrorMessage' is assigned a value but never used.","'cantSubmitUsername' is assigned a value but never used.","no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object","'jwtTokenValue' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'handleAPIFetchCall'. Either include it or remove the dependency array.",["119"],"React Hook useEffect has a missing dependency: 'key'. Either include it or remove the dependency array.",["120"],["115"],["116"],"no-global-assign","no-unsafe-negation",{"desc":"121","fix":"122"},{"desc":"123","fix":"124"},{"desc":"125","fix":"126"},{"desc":"127","fix":"128"},"Update the dependencies array to be: [dispatch, jwtDecodeFunc]",{"range":"129","text":"130"},"Update the dependencies array to be: [props.history, user]",{"range":"131","text":"132"},"Update the dependencies array to be: [isLoading, url, options, baseURL, handleAPIFetchCall]",{"range":"133","text":"134"},"Update the dependencies array to be: [jwtTokenValue, key, setJwtTokenValue]",{"range":"135","text":"136"},[986,988],"[dispatch, jwtDecodeFunc]",[415,421],"[props.history, user]",[1928,1962],"[isLoading, url, options, baseURL, handleAPIFetchCall]",[329,362],"[jwtTokenValue, key, setJwtTokenValue]"]